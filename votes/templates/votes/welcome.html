{% extends 'votes/base.html' %}
{% load static %}

{% block content %}

{% load static %}

<link rel="stylesheet" href="{% static 'votes/css/style.css' %}">

<img src="{% static 'votes/images/welcome.jpg' %}" alt="Welcome image">
<script src="{% static 'votes/js/welcome.js' %}"></script>

<div id="welcome-page">
    <img src="{% static 'polls/images/welcome.jpg' %}" 
         alt="Welcome image showing learners" class="welcome-image">

         <ul>
            {%for poll in polls %}
            <li>
                <a href="{% url 'polls:survey' poll.id %}">
                    {{ poll.question }}
                </a>
            </li>
            {% empty %}
            <li>No polls available at the moment.</li>
            {% endfor %}
            </ul>
            
            
    <h2>Welcome!</h2>
    <p>This system helps South African learners including those with disabilities 
       to vote on educational issues like safety and accessibility.</p>
        
      <!--ACTION BUTTONS -ONLY SHOW IF POLL EXIST --> 
       {% if polls %}
    <div class="actions">
        <a class="btn" href="{% url 'polls:vote' %}">ğŸ—³ï¸ Vote Now</a>
        <a class="btn" href="{% url 'polls:survey' %}">ğŸ“ Take Survey</a>
        <a class="btn" href="{% url 'polls:results' %}">ğŸ“Š View Results</a>
        <!-- Voice control button -->
        <button class="btn" onclick="startVoiceMenu()">ğŸ¤ Start Voice Control</button>
    </div>
    {%endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
    const voteURL = "{% url 'polls:vote' %}";
    const surveyURL = "{% url 'polls:survey' %}";
    const resultsURL = "{% url 'polls:results' %}";
    const welcomeURL = "{% url 'polls:welcome' %}";
</script>

<script src="{% static 'votes/js/welcome.js' %}"></script>
{% endblock %}